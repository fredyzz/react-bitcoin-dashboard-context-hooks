(this["webpackJsonpreact-toast-context"]=this["webpackJsonpreact-toast-context"]||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),i=n.n(r),l=(n(16),n(3)),o=n.n(l),u=n(6),s=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.coingecko.com/api/v3/simple/price?ids="+t+"&vs_currencies=usd");case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),m=n(1),p=c.a.createContext(),b=function(e){var t=Object(a.useState)(-1),n=Object(m.a)(t,2),r=n[0],i=n[1],l={bitcoinPrice:r,bitcoinPriceSet:function(e){return i(e)}};return c.a.createElement(p.Provider,{value:l},e.children)},h=function(){var e=Object(a.useContext)(p),t=e.bitcoinPrice,n=e.bitcoinPriceSet,r=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Getting bitcoin price..."),e.next=3,s("bitcoin");case 3:t=e.sent,n(t.bitcoin.usd),console.log(t.bitcoin.usd);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return-1===t&&r(),setInterval((function(){r()}),5e3),c.a.createElement("div",null,c.a.createElement("h1",{className:"uppercase"},"Bitcoin information"),c.a.createElement("h2",{className:"capitalize"},"price"),c.a.createElement("span",{className:"currency-price"},"U$D ",t))},f=c.a.createContext(),d=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),r=n[0],i=n[1],l=Object(a.useState)({lowerPrice:-1,higherPrice:-1}),o=Object(m.a)(l,2),u=o[0],s=o[1],p={isActive:r,alert:u,addAlert:function(e){s(e),i(!0)},deleteAlert:function(){s({lowerPrice:-1,higherPrice:-1})},toggleAlertState:function(){i(!r)}};return c.a.createElement(f.Provider,{value:p},e.children)},v=n(2),E=n(8),g=c.a.createContext(),j=function(e){var t=Object(a.useState)([]),n=Object(m.a)(t,2),r=n[0],i=n[1],l=Object(a.useState)(0),o=Object(m.a)(l,2),u=o[0],s=o[1],p={notifications:r,notificationAdd:function(e){var t=Object(E.a)(r);t.length>2&&t.splice(0,1),i([].concat(Object(E.a)(t),[Object(v.a)(Object(v.a)({},e),{},{id:u})])),s(u+1)},notificationDelete:function(e){var t=r.filter((function(t){return t.id!==e}));i(t)}};return c.a.createElement(g.Provider,{value:p},e.children)},O=function(){var e=Object(a.useContext)(f),t=e.isActive,n=e.alert,r=e.deleteAlert,i=e.toggleAlertState,l=Object(a.useContext)(g).notificationAdd,o=Object(a.useContext)(p).bitcoinPrice;return Object(a.useEffect)((function(){o>0&&!0===t&&(o<n.lowerPrice&&l({type:"Low Price Alert!",description:"alert price: ".concat(n.lowerPrice," - actual price: ").concat(o)}),o>n.higherPrice&&l({type:"High Price Alert!",description:"alert price: ".concat(n.higherPrice," - actual price: ").concat(o)}),i())}),[o]),c.a.createElement("div",null,-1!==n.lowerPrice&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Price alerts"),c.a.createElement("h4",null,"Bitcoin alert - ",t?"Active":"No active"),c.a.createElement("p",null,"Lower price: U$D ".concat(n.lowerPrice," - Higher Price: U$D ").concat(n.higherPrice," ")),c.a.createElement("button",{onClick:i},t?"Disable":"Activate"),c.a.createElement("button",{onClick:r},"Delete")))},w=function(){var e=Object(a.useContext)(g),t=e.notifications,n=e.notificationDelete;return t.length>0&&c.a.createElement(c.a.Fragment,null,t.map((function(e){return c.a.createElement("div",{className:"notification-item shadow",key:e.id},c.a.createElement("b",null,e.type),c.a.createElement("p",null,e.description),c.a.createElement("button",{onClick:function(){return n(e.id)}},"Close"))})))},P=n(5),x=function(){var e=Object(a.useContext)(f),t=e.alert,n=e.addAlert,r=Object(a.useState)({lowerPrice:"",higherPrice:""}),i=Object(m.a)(r,2),l=i[0],o=i[1],u=Object(a.useState)({state:!1,msg:""}),s=Object(m.a)(u,2),p=s[0],b=s[1],h=function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(P.a)({},e.target.name,""))),b({state:!1,msg:""})},d=function(e){o(Object(v.a)(Object(v.a)({},l),{},Object(P.a)({},e.target.name,e.target.value)))};return-1===t.lowerPrice&&c.a.createElement("div",null,c.a.createElement("h3",{className:"capitalize"},"create alert"),c.a.createElement("p",{className:"error"},!0===p.state&&p.msg),c.a.createElement("form",null,c.a.createElement("input",{value:l.lowerPrice,name:"lowerPrice",type:"number",onFocus:h,onChange:d,placeholder:"Lower price"}),c.a.createElement("br",null),c.a.createElement("input",{value:l.higherPrice,name:"higherPrice",type:"number",onFocus:h,onChange:d,placeholder:"Higher price"}),c.a.createElement("br",null),c.a.createElement("button",{onClick:function(e){e.preventDefault(),""===l.lowerPrice||""===l.higherPrice?b({state:!0,msg:"Select alert prices..."}):n(l)}},"Add")))},C=function(){var e=Object(a.useContext)(g).notifications;return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"wrapper shadow"},c.a.createElement("div",{className:"wrapper-item"},c.a.createElement(h,null)),c.a.createElement("div",{className:"wrapper-item"},c.a.createElement(d,null,c.a.createElement(x,null),c.a.createElement(O,null)))),c.a.createElement("div",{className:"wrapper-notification"},e.length>0&&c.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null,c.a.createElement(b,null,c.a.createElement(C,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.2449271f.chunk.js.map